<html>
    <head>
        <title>Function.prototype.call, Function.prototype.apply, Function.prototype.bind</title>
    </head>

    <body>
        <a href="/ejercicios/">Go back</a>
        <p><em>Abre la consola</em></p>

        <ul>
            <li><button class="call-to-action">Aprender</button></li>
            <li><button class="call-to-action">Aprender Más</button></li>
            <li><button class="call-to-action">¡Nunca parar de Aprender!</button></li>
        </ul>

        <script>
            // Estabelece 'this' usando 'call'
            function saludar() {
                console.log(`Hola, soy ${this.name} y me apellido ${this.apellido}`);
            }

            const irving = {
                name: 'Irving',
                apellido: 'Zuñiga Rivera'
            };

            saludar.call(irving);

            // Estabelece 'this' usando 'call' y pasar argumentos a la función
            function caminar(metros, direccion) {
                console.log(`${this.name} camina ${metros} metros hacia ${direccion}`);
            }

            // call -> comas
            caminar.call(irving, 400, 'norte');

            // Estabelece 'this' usando 'apply' y pasar argumentos a la función
            const valores = [800, 'noreste'];

            // apply -> arreglos
            caminar.apply(irving, valores);

            // Estabelece 'this' en una nueva función usando 'bind'
            const diana = {name: 'Diana', apellido: 'Valdivia Cruz'};
            const dianaSaluda = saludar.bind(diana);

            dianaSaluda();

            // const dianaCamina = caminar.bind(diana);
            // const dianaCamina = caminar.bind(diana, 1200, 'sur');

            // dianaCamina(1200, 'sur');
            // dianaCamina();

            // Curring -> guadamos parcialmente unos argumentos y luego los demas
            const dianaCamina = caminar.bind(diana, 1200);
            dianaCamina('sur');

            // Cuando es útil uno de estos métodos
            const buttons = document.getElementsByClassName('call-to-action');
            // buttons.forEach(button => {
            //     button.onclick = () => alert('Nunca pares de aprender');
            // });

            // button is NodeList
            Array.prototype.forEach.call(buttons, button => {
                button.onclick = () => alert(button.innerText);
            });

        </script>
    </body>
</html>